import { subqlTest } from "@subql/testing";
import { DataRegistry, NFT, DataRegistryNFTData } from "../types";

subqlTest(
  "handleSafeWrite test", // test name
  36371180, // block height to process
  [DataRegistry.create({
    id: "0x29BA024BAA8BC6a3571A15A84515D89072C16E1E",
    blockHeight: BigInt(36321607),
    address: "0x29BA024BAA8BC6a3571A15A84515D89072C16E1E",
    dapp: "0x9572EA312B275678bFA57aDc2fA7e0705552cea6",
    uri: "ipfs://foo.bar",
  })], // dependent entities
  [
    NFT.create({
      id: "0xCb78c11B607b0d787f8eD70c9F90C9dA4F7E3154-1",
      collection: "0xCb78c11B607b0d787f8eD70c9F90C9dA4F7E3154",
      tokenId: BigInt(1),
    })
  ], // expected entities
  "handleSafeWrite" //handler name
);